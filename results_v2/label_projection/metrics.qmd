---
title: Metrics
engine: knitr
---

```{r setup, include=FALSE}
library(tidyverse)
library(rlang)

strip_margin <- function(text, symbol = "\\|") {
  str_replace_all(text, paste0("(\n?)[ \t]*", symbol), "\\1") 
}

dir <- "results_v2/label_projection"
dir <- "."

task_info <- yaml::read_yaml(paste0(dir, "/task_info.yaml"))
metric_info <- yaml::read_yaml(paste0(dir, "/metric_info.yaml")) %>%
  map_df(as_tibble)
```



```{r methods, echo=FALSE,warning=FALSE,error=FALSE,output="asis"}
metric_info_view <- 
  metric_info %>%
    transmute(
      Name = paste0("[", label, "](https://github.com/openproblems-bio/openproblems-v2/tree/main/src/", task_info$id, "/", dirname(config_path), ")"),
      Description = paste0(gsub("\n", " ", description), " ", ifelse(maximize, "Higher is better.", "Lower is better.")),
      Range = paste0("[", min, ", ", max, "]")
    )

cat(paste(knitr::kable(metric_info_view, format = 'pipe'), collapse = "\n"))
```

